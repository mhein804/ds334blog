{
  "hash": "b076d59327b240563133a38fe809cfce",
  "result": {
    "markdown": "---\ntitle: \"Blog Post 2\"\nauthor: \"Mathias Heinz\"\ndate: \"2024-02-19\"\ncategories: [code, analysis]\n\n---\n\n\n  I knew I wanted to create a map for my second blog post, so I looked for a data set that would make this possible. The data set I found contains life expectancy data for countries around the world throughout time. This was a rather simple data set with only four variables, entity (country), code (abbreviation for country), year, and life expectancy. The main question I wanted to explore was how does life expectancy look across the world.I was also interested in how life expectancy has changed over time. I retrieved my data from the following github link; https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-12-05/readme.md\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlife_expectancy <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-12-05/life_expectancy.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 20755 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): Entity, Code\ndbl (2): Year, LifeExpectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlife_expectancy_2020 <- life_expectancy |> filter(!is.na(Code)) |> \n  filter(Year == 2020) |> mutate(Entity = fct_recode(Entity,\n                                      \"USA\" = \"United States\"))\nworld_df <- map_data(\"world\")\nworld_full<- left_join(world_df, life_expectancy_2020,\n                       by = c(\"region\" = \"Entity\"))\nggplot(data = world_full, aes(x = long, y = lat, group = group))+\n  geom_polygon(aes(fill = LifeExpectancy))+\n  coord_map(projection = \"mercator\", xlim = c(-180,180))+\n  scale_fill_viridis_c(direction = -1, option = \"D\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n  This map shows the the whole globe using the Mercator projection style. Each country is colored based on their life expectancy is the year 2020. From this we can see that countries like Australia and Canada have high life expectancy, in the 80's. While some countries in central Africa have lower life expectancy, down in the mid to low 60's.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlife_expectancy_NA <- life_expectancy |> filter(Entity == \"United States\" | Entity == \"Mexico\" | Entity == \"Canada\") \n\nggplot(life_expectancy_NA, aes(x = Year, y = LifeExpectancy))+\n  geom_point(aes(color = Entity))+\n  labs(title = \"Life Expectancy of North American Countries\", \n       x = \"Year\", y = \"Life Expectancy (Years)\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n  I wanted to dive a bit deeper into the life expectancy of specific regions so decided to create a graph of the three biggest countries in North America. This shows how Canada and the US have have similar life expectancy throughout the range of the data set. The gap between Mexico and the other two countries has been shrinking since the 1950's, and today all three countries have rather high life expectancy.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlife_expectancy_5 <- life_expectancy |> filter(Entity == \"United States\" | Entity == \"Japan\" | Entity == \"Germany\" | Entity == \"China\" | Entity == \"India\") \nggplot(life_expectancy_5, aes(x = Year, y = LifeExpectancy))+\n  geom_point(aes(color = Entity))+\n  labs(title = \"Life Expectancy for Top 5 GDP Countries\",\n       x = \"Year\", y = \"Life Expectancy\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n  This graph is similar to the previous one however for this visualization I chose to look at the five largest countries based on GPD. One notable country in this graph is Japan, who started around the middle of the pack, but now have the highest life expectancy of these countries. Germany and the USA have similar trends throughout history, resulting in a life expectancy of around 80 today. India has the lowest life expectancy of these five countries, hovering in the 20's around 1900 and up to around 70 today. China used to have one of the lower life expectancy's, but has caught up to the rest of the pack today.\n\n\nConclusion and Wrap Up:\n\n  This data set was enjoyable to work with and create visualizations. However one issue I noticed was in the map I created. Some of the countries appeared grey or not filled in. I believe this root of this issue to be a difference in the labeling of each country between the two data sets I used. I was able to quickly fix the issue for the United States. However, if I had more time to comb through all the countries in the data set, I would like to fix all the names to the whole map is filled in.\n\nConnection:\n\n  For my map I created the map similar to ones we made in class, using the whole world map rather than just the USA or one state. For the color scheme on my mad I chose to use a sequential color scheme to show the better show the range of life expectancy values across the globe. My two graphs clearly show the trends for each country, using a different color for each one, and the overall grpahs themselves are neat and not cluttered.\n\nNote: \n\nTop 5 GDP retrieved from https://www.forbesindia.com/article/explainers/top-10-largest-economies-in-the-world/86159/1#:~:text=Which%20are%20the%20top%205,hold%20those%20positions%20in%202024.&text=%236%20United%20Kingdom%20(U.K.)\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}